.player {
  position: fixed;
  top: 0;
  left: 0;
  width: 0%;
  height: 0%;
  background-color: $primary;
  overflow: hidden;
  .wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    .list {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-x: auto;
      overflow-y: hidden;
    }
    > .tools {
      @include displayFlex;
      position: absolute;
      bottom: 100%;
      left: 0;
      > * {
        background-color: $dim;
        max-height: 2*$em;
        padding: .45*$em .5*$em;
        cursor: pointer;
        &:hover {
          background-color: $light
        }
        &:not(:last-child) {
          border-right: 2px solid black;
        }
      }
      .closer {}
    }
  }
}
.player-stream {
  @include displayFlex;
  position: relative;
  height: 100%;
  .video, .chat {
    position: relative;
    background-color: black;
    .nested {
      position: relative;
    }
    iframe {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  }
  .video {
    width: 100%;
    padding-top: 2*$em;
    .nested {
      width: 100%;
      height: 100%;
    }
  }
  .chat {
    width: 24*$em;
  }
  .tools {
    @include displayFlex;
    position: absolute;
    top: 0;
    left: 0;
    > * {
      background-color: $primary;
      padding: .45*$em .5*$em;
      cursor: pointer;
      &:hover {
        background-color: $light
      }
      &:not(:last-child) {
        border-right: 2px solid black;
      }
    }
    .mobile {
      display: none;
    }
    a {
      color: black;
      font-weight: bold;
    }
    .closer {}
  }
}

.player-stream.hide-chat {
  .video, .chat {
    .nested {}
    iframe {}
  }
  .video {
    .nested {}
  }
  .chat {
    width: 0;
  }
  .tools {
    > * {
      &:hover {}
      &:not(:last-child) {}
    }
    a {}
    .closer {}
  }
}

.root {
  &.player-open {
    &.layout-1 .player {
      width: 100%;
      height: 100%;
      padding-top: 2*$em;
      overflow: visible;
    }
    &.layout-2 .player {
      width: 100%;
      height: 50%;
      padding-top: 2*$em;
      overflow: visible;
    }
  }
  &.player-collapsed.layout-1 .player,
  &.player-collapsed.layout-2 .player,
  &.player-collapsed.layout-3 .player,
  &.player-collapsed.layout-4 .player,
  &.player-collapsed.layout-5 .player,
  &.player-collapsed.layout-6 .player
  {
    width: 14*$em;
    box-shadow: 0 0 0.5*$em 0 black;
    .wrapper {
      .list {
        .player-stream {
          max-height: 15*$em;
          .chat {
            width: 0;
          }
          .tools {
            top: 2*$em;
            flex-direction: column;
            background-color: black;
            padding: 2px;
            text-align: center;
            > *:not(.mobile) {
              width: 100%;
              max-height: 0;
              height: 0;
              padding-top: 0;
              padding-bottom: 0;
              border-right: none;
              overflow: hidden;
              &:not(:last-child) {
                border-bottom: 2px solid black;
              }
            }
            &.menu-open {
              > *:not(.mobile) {
                max-height: 100%;
                height: auto;
                padding-top: .5*$em;
                padding-bottom: .5*$em;
                overflow: hidden;
              }
              .mobile {
                div {
                  &.lines {
                    div {
                      &:nth-child(1) {
                        position: relative;
                        top: 6px;
                        transform: rotateZ(45deg);
                      }
                      &:nth-child(2) {
                        left: 50%;
                        max-width: 0;
                      }
                      &:nth-child(3) {
                        position: relative;
                        top: -6px;
                        transform: rotateZ(-45deg);
                      }
                    }
                  }
                }
              }
            }
            .mobile {
              @include displayFlex;
              flex-direction: row;
              position: absolute;
              bottom: 100%;
              left: 0;
              height: 2*$em;
              border: none;
              box-shadow: inset 0 0 0 2px black;
              @include userSelect;
              cursor: default;
              div {
                &.name {
                  padding-right: 4px;
                }
                &.lines {
                  @include displayFlex;
                  flex-direction: column;
                  justify-content: space-around;
                  width: 2*$em;
                  padding-left: 4px;
                  border-left: 2px solid black;
                  cursor: pointer;
                  div {
                    position: relative;
                    top: 0;
                    left: 0;
                    max-width: 100%;
                    height: 2px;
                    margin: auto 0;
                    background-color: black;
                    text-align: center;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
